{% extends "layout/base_dashboard.html" %}
{% load static %}

{% block title %}Exclusiones{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'estudiantes/css/exclusiones_manage.css' %}">
{% endblock %}

{% block content %}
  <div class="dashboard-header">
    <h2 class="hdr-sub">
      Exclusiones — {{ calendario.fecha_inicio }} → {{ calendario.fecha_fin }}
    </h2>
  </div>

<form method="post" class="card p-3 mb-3">
  {% csrf_token %}
  <div class="row g-2">
    <div class="col-auto">{{ form.fecha }}</div>
    <div class="col-auto">
      <button class="btn btn-primary">Agregar día sin lista</button>
    </div>
  </div>
</form>

<table class="table table-sm">
  <thead><tr><th>Fecha</th><th></th></tr></thead>
  <tbody>
    {% for ex in exclusiones %}
      <tr>
        <td>{{ ex.fecha }}</td>
        <td class="text-end">
          <form method="post" action="{% url 'estudiantes:asistencia_exclusion_eliminar' calendario.id ex.id %}">
            {% csrf_token %}
            <button class="btn btn-sm btn-outline-danger" onclick="return confirm('¿Eliminar exclusión?')">Eliminar</button>
          </form>
        </td>
      </tr>
    {% empty %}
      <tr><td colspan="2">No hay exclusiones.</td></tr>
    {% endfor %}
  </tbody>
</table>

<a href="{% url 'estudiantes:asistencia_calendario' %}" class="btn btn-link">Volver</a>
{% endblock %}
